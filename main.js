(()=>{"use strict";function e(e){if(/[^0-9-\s]+/.test(e))return!1;let t=0,a=!1;for(let s=(e=e.replace(/\D/g,"")).length-1;s>=0;s--){const i=e.charAt(s);let c=parseInt(i,10);a&&(c*=2)>9&&(c-=9),t+=c,a=!a}return t%10==0}const t=document.getElementById("main");new class{constructor(e){this.container=e,this.paymentSystem=null}init(){this.checkPaymentSystem(),this.creditCardValidator()}checkPaymentSystem(){const e=document.getElementById("card_number"),t=[...document.querySelectorAll(".card")];e.addEventListener("input",(()=>{4==e.value[0]&&t.forEach((e=>{e.classList.remove("card_inactive"),e.classList.contains("visa")||(e.classList.add("card_inactive"),this.paymentSystem="VISA")})),2==e.value[0]&&t.forEach((e=>{e.classList.remove("card_inactive"),e.classList.contains("mir")||(e.classList.add("card_inactive"),this.paymentSystem="MIR")})),5==e.value[0]&&t.forEach((e=>{e.classList.remove("card_inactive"),e.classList.contains("master")||(e.classList.add("card_inactive"),this.paymentSystem="MasterCard")})),3==e.value[0]&&t.forEach((e=>{e.classList.remove("card_inactive"),e.classList.contains("amex")||(e.classList.add("card_inactive"),this.paymentSystem="American Express")}))}))}creditCardValidator(){const t=document.getElementById("card_number"),a=document.getElementById("submitform");t.addEventListener("keydown",(a=>{if(13===a.keyCode){e(t.value)&&""!==t.value?alert(`The card is valid. The payment system is ${this.paymentSystem}`):alert("The card is not valid!")}})),a.addEventListener("click",(()=>{e(t.value)&&""!==t.value?alert(`The card is valid. The payment system is ${this.paymentSystem}`):alert("The card is not valid!")}))}}(t).init()})();